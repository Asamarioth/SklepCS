@page
@model Sklep.Pages.Cart.IndexModel

@{
    ViewData["Title"] = "Index";
}

<!-- Main Container -->
<div class="container">

    <section class="section my-5 pb-5 pt-5">

        <!-- Shopping Cart table -->
        <div class="table-responsive">

            <table class="table product-table table-cart-v-1">

                <!-- Table body -->
                <tbody>
                    @{
                        if (Model.Cart != null)
                        {
                            if (Model.Cart.Count == 0)
                            {
                                <h3 class="font-weight-bold">Koszyk jest pusty!</h3>
                            }
                            else
                            {
                                <!-- Table head -->
                            <thead>

                                <tr>

                                    <th></th>

                                    <th class="font-weight-bold">

                                        <strong>Produkt</strong>
                                    </th>

                                    <th></th>

                                    <th class="font-weight-bold">

                                        <strong>Cena</strong>
                                    </th>

                                    <th class="font-weight-bold">

                                        <strong>Ilość</strong>
                                    </th>

                                    <th class="font-weight-bold">

                                        <strong>Razem</strong>
                                    </th>

                                    <th></th>
                                </tr>
                            </thead>
                            <!-- Table head -->
                            foreach (var p in Model.Cart)
                            {
                                <!-- First row -->
                                <tr>

                                    <th scope="row">

                                        <img src="https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Products/13.jpg" alt=""
                                             class="img-fluid z-depth-0">
                                    </th>

                                    <td>

                                        <h5 class="mt-3">

                                            <strong>
                                                @p.Produkt.Nazwa
                                            </strong>
                                        </h5>
                                    </td>

                                    <td></td>

                                    <td>@p.Produkt.Cena_brutto</td>

                                    <td class="text-center text-md-left">

                                        <span class="qty font-weight-bold">@p.Quantity </span>

                                        <div class="btn-group ">

                                            <a asp-page="./Index" asp-route-action="addm" asp-route-id="@p.Produkt.ID">
                                                <i class="far fa-minus-square fa-1_2x"></i>
                                            </a>

                                            <a asp-page="./Index" asp-route-action="addp" asp-route-id="@p.Produkt.ID">
                                                <i class="far fa-plus-square fa-1_2x"></i>
                                            </a>
                                        </div>
                                    </td>

                                    <td class="font-weight-bold">

                                        <strong>@(p.Quantity * p.Produkt.Cena_brutto)</strong>
                                    </td>

                                    <td>

                                        <a asp-page="./Index" asp-route-action="remove" asp-route-id="@p.Produkt.ID">
                                            <i class="fas fa-times fa-1_2x"></i>
                                        </a>
                                    </td>
                                </tr>
                                <!-- First row -->
                            }

                            <!-- Fourth row -->
                            <tr>

                                <td colspan="3"></td>

                                <td>

                                    <h4 class="mt-2">

                                        <strong>Suma</strong>
                                    </h4>
                                </td>

                                <td class="text-right">

                                    <h4 class="mt-2">

                                        <strong>@Model.CartTotal</strong>
                                    </h4>
                                </td>

                                <td colspan="3" class="text-right">

                                    <button type="button" class="btn btn-primary btn-rounded">
                                        Kup

                                        <i class="fas fa-angle-right right"></i>
                                    </button>
                                </td>
                            </tr>
                            <!-- Fourth row -->

                        }
                    }
                    else
                    {
                        <h3 class="font-weight-bold">Koszyk jest pusty!</h3>
                    }

                    }
                    </tbody>
                    <!-- Table body -->
                </table>
            </div>
            <!-- Shopping Cart table -->
        </section>
    </div>
    <!-- Main Container -->